{"version":3,"file":"js/app.f01dc651.js","mappings":"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","sources":["webpack://color-splash/./src/utils/touch.ts","webpack://color-splash/./src/App.vue","webpack://color-splash/./src/utils/event.ts","webpack://color-splash/./src/utils/shader.ts","webpack://color-splash/./src/utils/webgl.ts","webpack://color-splash/./src/utils/splash.ts","webpack://color-splash/./src/App.vue?2a37","webpack://color-splash/./src/App.vue?285c","webpack://color-splash/./src/App.vue?01fe","webpack://color-splash/./src/main.ts","webpack://color-splash/webpack/bootstrap","webpack://color-splash/webpack/runtime/chunk loaded","webpack://color-splash/webpack/runtime/compat get default export","webpack://color-splash/webpack/runtime/define property getters","webpack://color-splash/webpack/runtime/global","webpack://color-splash/webpack/runtime/hasOwnProperty shorthand","webpack://color-splash/webpack/runtime/jsonp chunk loading","webpack://color-splash/webpack/startup"],"sourcesContent":["import XEvent from \"./event\";\n\nexport enum TOUCH_TYPE {\n  SINGLE_TOUCH, // 单指\n  DOUBLE_TOUCH // 双指\n}\n\ninterface TouchParam {\n  diffX: number,\n  diffY: number,\n  offsetX: number,\n  offsetY: number\n}\n\ninterface TouchCheckParam {\n  offsetX: number,\n  offsetY: number\n}\n\nconst eventList = ['touchStart', 'touchMove', 'touchEnd'] as const;\n\nexport default class TouchListener extends XEvent<typeof eventList> {\n  touchType = TOUCH_TYPE.SINGLE_TOUCH;\n  private curTouch: undefined | { x: number, y: number }[] = undefined;\n  private touchTimer: undefined | number = undefined;\n  checkValid: undefined | ((param: TouchCheckParam) => boolean) = undefined;\n  private rect: DOMRect;\n  private offsetTop: number;\n  private offsetLeft: number;\n  elm: Element;\n\n  constructor(elm: HTMLCanvasElement) {\n    super(eventList);\n    this.elm = elm;\n    this.rect = elm.getBoundingClientRect();\n    this.offsetTop = this.rect.top;\n    this.offsetLeft = this.rect.left;\n\n    this.elm.addEventListener('touchstart', this.onTouchStart);\n    this.elm.addEventListener('touchmove', this.onTouchMove);\n    this.elm.addEventListener('touchend', this.onTouchEnd)\n  }\n\n  private onTouchStart = (e: Event) => {\n    e.preventDefault();\n    this.curTouch = undefined;\n    window.clearTimeout(this.touchTimer);\n    this.touchTimer = window.setTimeout(() => { // 双指不一定同时触发，设一个timeout\n      const { touches } = e as TouchEvent;\n      if (!touches.length || touches.length > 2) return;\n      const touch0 = touches[0];\n      const touch1 = touches[1];\n\n      const ret = this.checkValid ? this.checkValid({\n        offsetX: touch0.clientX - this.offsetLeft,\n        offsetY: touch0.clientY - this.offsetTop\n      }) : true;\n      if (!ret) return;\n      if (touches.length === 1) {\n        this.touchType = TOUCH_TYPE.SINGLE_TOUCH;\n        this.curTouch = [{ x: touch0.clientX, y: touch0.clientY }];\n      } else if (touches.length === 2) {\n        this.touchType = TOUCH_TYPE.DOUBLE_TOUCH;\n        this.curTouch = [\n          { x: touch0.clientX, y: touch0.clientX },\n          { x: touch1.clientY, y: touch1.clientY }\n        ];\n      }\n    }, 100);\n  };\n\n  private onTouchMove = (e: Event) => {\n    e.preventDefault()\n    if (this.curTouch) {\n      const { touches } = e as TouchEvent;\n      const touch0 = touches[0];\n      // const touch1 = e.touches[1];\n      if (this.touchType === TOUCH_TYPE.SINGLE_TOUCH && touch0) {\n        const diffX = touch0.clientX - this.curTouch[0].x;\n        const diffY = touch0.clientY - this.curTouch[0].y;\n        this.emit('touchMove', {\n          diffX,\n          diffY,\n          x: touch0.clientX - this.offsetLeft,\n          y: touch0.clientY - this.offsetTop,\n          preX: this.curTouch[0].x - this.offsetLeft,\n          preY: this.curTouch[0].y - this.offsetTop,\n        });\n        this.curTouch[0].x = touch0.clientX;\n        this.curTouch[0].y = touch0.clientY;\n      }\n    }\n  }\n\n  private onTouchEnd = (e: Event) => {\n    e.preventDefault()\n    if (this.curTouch) {\n      this.emit('touchEnd', {\n        x: this.curTouch[0].x - this.offsetLeft,\n        y: this.curTouch[0].y - this.offsetTop\n      });\n    }\n  }\n\n  clear = () => {\n    this.elm.removeEventListener('touchstart', this.onTouchStart);\n    this.elm.removeEventListener('touchmove', this.onTouchMove);\n    this.elm.removeEventListener('touchend', this.onTouchEnd);\n    this.clear();\n  };\n}","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{style:(_vm.containerStyle),attrs:{\"id\":\"color-splash\"}}),_c('div',{staticClass:\"btn-list\"},[_c('div',{staticClass:\"btn\"},[_vm._v(\" 选择图片 \"),_c('input',{attrs:{\"id\":\"select-photo\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.selectImage}})]),_c('div',{staticClass:\"btn\",class:{ actived: _vm.mode === _vm.SPLASH_MODE.COLOR },on:{\"click\":function($event){return _vm.switchMode(_vm.SPLASH_MODE.COLOR)}}},[_vm._v(\" 涂色 \")]),_c('div',{staticClass:\"btn\",class:{ actived: _vm.mode === _vm.SPLASH_MODE.GRAY },on:{\"click\":function($event){return _vm.switchMode(_vm.SPLASH_MODE.GRAY)}}},[_vm._v(\" 涂灰 \")]),_c('div',{staticClass:\"btn\",class:{ actived: _vm.mode === _vm.SPLASH_MODE.MOVE },on:{\"click\":function($event){return _vm.switchMode(_vm.SPLASH_MODE.MOVE)}}},[_vm._v(\" 移动图片 \")]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.onSave}},[_vm._v(\" 保存 \")])]),(_vm.showRet)?_c('div',{staticClass:\"save\"},[_c('img',{attrs:{\"src\":_vm.saveData,\"alt\":\"img\"}}),_c('div',{staticClass:\"tips\"},[_vm._v(\" 请长按图片保存 \")]),_c('div',{staticClass:\"close\",on:{\"click\":function($event){_vm.showRet = false}}},[_c('svg',{attrs:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('line',{attrs:{\"x1\":\"0\",\"y1\":\"0\",\"x2\":\"100%\",\"y2\":\"100%\",\"stroke\":\"#FFFFFF\",\"stroke-linecap\":\"round\"}}),_c('line',{attrs:{\"x1\":\"100%\",\"y1\":\"0\",\"x2\":\"0\",\"y2\":\"100%\",\"stroke\":\"#FFFFFF\",\"stroke-linecap\":\"round\"}})])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable @typescript-eslint/no-explicit-any */ \ntype CallBack = ((...arg: any) => any) | undefined\ntype EventMap = { [key: number | string]: CallBack }\n\nexport default class XEvent<T extends string[] | readonly string[]> {\n  private uidMap: { [key: string]: number } = {};\n  private eventMap: { [key: string]: EventMap } = {};\n  eventList: T;\n  on: (name: T[number], cb: CallBack) => number;\n  off: (name: T[number] , uid: number) => void;\n  emit: (name: T[number] , ...arg: any) => void;\n  clear: (name?: T[number]) => void;\n\n  constructor(nameList: T) {\n    this.eventList = nameList;\n    this.eventList.forEach(name => {\n      this.uidMap[name] = 0;\n      this.eventMap[name] = {};\n    });\n\n    this.on = (name: T[number], cb: CallBack): number => {\n      const events = this.eventMap[name];\n      const cuid = this.uidMap[name];\n      if (events && cuid !== undefined && cuid >= 0) {\n        events[cuid] = cb;\n        this.uidMap[name] = cuid + 1;\n        return cuid;\n      }\n      return -1;\n    };\n\n    this.off = (name: T[number], uid: number): void => {\n      const events = this.eventMap[name];\n      if (events && events[uid]) {\n        events[uid] = undefined;\n        delete events[uid];\n      }\n    };\n\n    this.emit = (name: T[number], ...arg: any): void => {\n      const events = this.eventMap[name];\n      if (events) {\n        Object.keys(events).forEach(key => {\n          const fn = events[key];\n          if (fn) fn(...arg);\n        });\n      }\n    }\n\n    this.clear = (name?: T[number]): void => {\n      if (name && this.eventMap[name]) {\n        this.eventMap[name] = {};\n        this.uidMap[name] = 0;\n      } else {\n        Object.keys(this.eventMap).forEach(key => {\n          this.eventMap[key] = {};\n          this.uidMap[key] = 0;\n        })\n      }\n    }\n  }\n}","// a_position: 顶点位置\n// a_texCoord: 纹理坐标[-1, 1]\n// v_texCoord: 从顶点着色器传数据到片元着色器的变量\n// u_projection: 从canva坐标系转换成webgl坐标系的变换举证\n// u_rotate: 旋转矩阵\n// u_translate: 平移矩阵\nexport const vertextSource = `\n  attribute vec2 a_position;\n  attribute vec2 a_texCoord;\n  varying vec2 v_texCoord;\n  uniform mat4 u_projection;\n  uniform mat4 u_rotate;\n  uniform mat4 u_translate;\n  void main(void) {\n    gl_Position = u_projection * u_translate * u_rotate * vec4(a_position, 0, 1.0);\n    v_texCoord = a_texCoord;\n  }\n`;\n\n// precision mediump float 设置精度\n// v_texCoord: 从顶点着色器传过来的变量\n// u_image: 图片\nexport const fragmentSource = `\n  precision mediump float;\n  varying vec2 v_texCoord;\n  uniform sampler2D u_image;\n  uniform sampler2D u_image_patch;\n\n  void main() {\n    vec4 texture = texture2D(u_image, v_texCoord);\n    vec4 patch = texture2D(u_image_patch, v_texCoord);\n    bool flag = true;\n    if (patch.r > 0.0) {\n      float gray = 0.299 * texture.r + 0.587 * texture.g + 0.114 * texture.b;\n      gl_FragColor = vec4(gray, gray, gray, texture.a);\n    } else {\n      gl_FragColor = texture;\n    }\n  }\n`;\n\nexport const splashVertextSource = `\n  attribute vec2 a_position;\n  uniform mat4 u_projection;\n  uniform mat4 u_rotate;\n  uniform mat4 u_translate1;\n  uniform mat4 u_translate2;\n  void main(void) {\n    gl_Position = u_projection * u_translate2 * u_rotate * u_translate1 * vec4(a_position, 0, 1.0);\n  }\n`;\n\nexport const splashFragmentSource = `\n  precision mediump float;\n  uniform int u_mode;\n\n  void main() {\n    if (u_mode == 1) {\n      gl_FragColor = vec4(1, 1, 1, 1);\n    }else {\n      gl_FragColor = vec4(0, 0, 0, 0);\n    }\n  }\n`;\n\nexport const pickVertextSource = `\n  attribute vec2 a_position;\n  uniform mat4 u_projection;\n  uniform mat4 u_rotate;\n  uniform mat4 u_translate;\n  void main(void) {\n    gl_Position = u_projection * u_translate * u_rotate * vec4(a_position, 0, 1.0);\n  }\n`;\n\nexport const pickFragmentSource = `\n  precision mediump float;\n  uniform vec4 u_id;\n\n  void main() {\n    gl_FragColor = u_id;\n  }\n`;\n\nexport const previewVertextSource = `\n  attribute vec2 a_position;\n  uniform mat4 u_projection;\n  attribute vec2 a_texCoord;\n  varying vec2 v_texCoord;\n\n  void main(void) {\n    gl_Position = u_projection * vec4(a_position, 0, 1.0);\n    v_texCoord = a_texCoord;\n  }\n`;\n\nexport const previewFragmentSource = `\n  precision mediump float;\n  varying vec2 v_texCoord;\n  uniform sampler2D u_image;\n\n  void main() {\n    vec4 texture = texture2D(u_image, v_texCoord);\n    gl_FragColor = texture;\n  }\n`;\n\n// 实心圆用TRIANGLE_FAN画，第一个顶点需要时圆心，此时a_flag设置为0.0，其余圆周上的点a_flag设置1.0\n// 空心圆用LINE_LOOP画，所有点都是圆周上的点\nexport const circleVertextSource = `\n  attribute float a_radian;\n  attribute float a_flag;\n  uniform mat4 u_projection;\n  uniform float u_radius;\n  uniform mat4 u_translate;\n\n  void main(void) {\n    gl_Position = u_projection * u_translate * vec4(a_flag * u_radius * cos(a_radian), a_flag * u_radius * sin(a_radian), 0, 1.0);\n  }\n`;\n\nexport const colorFragmentSource = `\n  precision mediump float;\n  uniform vec4 u_color;\n\n  void main() {\n    gl_FragColor = u_color;\n  }\n`;","import { circleVertextSource, colorFragmentSource } from './shader';\n\nconst webgl = window.document.createElement('canvas').getContext('webgl');\nexport const support = !!webgl && webgl instanceof WebGLRenderingContext;\n\nlet circleProgram: WebGLProgram;\n\ndeclare global {\n  interface WebGLRenderingContext {\n    [key: string]: number\n  }\n}\n\nexport const createProgram = (gl: WebGLRenderingContext, vSource: string, fSource: string): null | WebGLProgram => {\n  // 编译shader\n  const vertextShader = gl.createShader(gl.VERTEX_SHADER);\n  const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n  if (!vertextShader || !fragmentShader) return null;\n  gl.shaderSource(vertextShader, vSource);\n  gl.shaderSource(fragmentShader, fSource);\n  gl.compileShader(vertextShader);\n  gl.compileShader(fragmentShader);\n  // 创建program\n  const program = gl.createProgram();\n  if (!program) return null;\n  gl.attachShader(program, vertextShader);\n  gl.attachShader(program, fragmentShader);\n  gl.linkProgram(program);\n\n  return program;\n};\n\nexport function createFrameBuffer (gl: WebGLRenderingContext): null | WebGLFramebuffer\nexport function createFrameBuffer (gl: WebGLRenderingContext, texture: WebGLTexture | null ): null | WebGLFramebuffer\nexport function createFrameBuffer (gl: WebGLRenderingContext, width: number, height: number ): null | WebGLFramebuffer\nexport function createFrameBuffer (gl: WebGLRenderingContext, arg1?: number | WebGLTexture | null, arg2?: number): null | WebGLFramebuffer {\n  const frameBuffer = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n  if (arg1 !== undefined && typeof arg1 !== 'number' && arg2 === undefined) {\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, arg1, 0);\n  } else if (typeof arg1 === 'number' || arg1 === undefined) {\n    const w = arg1 || gl.canvas.width;\n    const h = arg2 || gl.canvas.height;\n    const curTexture = gl.getParameter(gl.TEXTURE_BINDING_2D);\n    // 为帧缓存声明纹理空间\n    const texture = createTexture(gl);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, w, h, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    // 将纹理绑定到帧缓存对应的附着点上\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    gl.bindTexture(gl.TEXTURE_2D, curTexture);\n  }\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  return frameBuffer;\n}\n\nexport function createTexture (gl: WebGLRenderingContext): WebGLTexture | null\nexport function createTexture (gl: WebGLRenderingContext, source: TexImageSource): WebGLTexture | null\nexport function createTexture (gl: WebGLRenderingContext, source: ArrayBufferView | null, width: number, height: number): WebGLTexture | null\nexport function createTexture (gl: WebGLRenderingContext, source?: TexImageSource | ArrayBufferView | null, width?: number, height?: number): WebGLTexture | null {\n  const texture = gl.createTexture();\n  if (!texture) return null;\n  configTeture(gl, texture, source, width, height);\n\n  return texture;\n}\n\nexport function configTeture (gl: WebGLRenderingContext, texture: WebGLTexture | null, source?: TexImageSource | ArrayBufferView | null, width?: number, height?: number): void {\n  // 绑定纹理到当前操作对象\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  // 纹理属性设置\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n  if (width && height) {\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, source as (ArrayBufferView | null));\n  } else if (source) {\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source as TexImageSource);\n  }\n}\n\nexport function setTexture (gl: WebGLRenderingContext, program: WebGLProgram, texture: WebGLTexture | null, uniform: string, index: number): void\nexport function setTexture (gl: WebGLRenderingContext, program: WebGLProgram, texture: WebGLTexture | null, uniform: string, index: number, source: TexImageSource): void\nexport function setTexture (gl: WebGLRenderingContext, program: WebGLProgram, texture: WebGLTexture | null, uniform: string, index: number, source: ArrayBufferView | null, width: number, height: number): void\nexport function setTexture (gl: WebGLRenderingContext, program: WebGLProgram, texture: WebGLTexture | null, uniform: string, index: number, source?: TexImageSource | ArrayBufferView | null, width?: number, height?: number): void {\n  gl.useProgram(program);\n  // 获取着色器中的uniform变量，并指示其将从纹理0中获取值\n  const uImage = gl.getUniformLocation(program, uniform);\n  gl.uniform1i(uImage, index);\n  gl.activeTexture(gl[`TEXTURE${index}`]);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  // 在texture上填充纹理，同时也会在着色器中赋值给u_image\n  if (width && height) {\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, source as (ArrayBufferView | null));\n  } else if (source) {\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source as TexImageSource);\n  }\n}\n\nexport const setAttribute = (gl: WebGLRenderingContext, program: WebGLProgram, data: number[], attribute: string, drawType: number, size = 2): void => {\n  // 创建一个buff\n  const buffer = gl.createBuffer();\n  // 绑定buff到当前操作空间，并把值传给当前buff\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), drawType);\n  // 获取顶点属性的在着色器中的索引，并激活它\n  const aLocation = gl.getAttribLocation(program, attribute);\n  gl.enableVertexAttribArray(aLocation);\n  // 设置顶点属性如何从顶点缓冲对象中取值。每次从数组缓冲对象中读取2个值\n  gl.vertexAttribPointer(aLocation, size, gl.FLOAT, false, 0, 0);\n};\n\nexport const setUniformMat = (gl: WebGLRenderingContext, program: WebGLProgram, data: number[], uniform: string): void => {\n  const uniformLocation = gl.getUniformLocation(program, uniform);\n  gl.uniformMatrix4fv(uniformLocation, false, data);\n};\n\nexport const setUniformVec4 = (gl: WebGLRenderingContext, program: WebGLProgram, uniform: string, data: number[]): void => {\n  const uniformLocation = gl.getUniformLocation(program, uniform);\n  gl.uniform4f(uniformLocation, data[0] || 0, data[1] || 0, data[2] || 0, data[3] || 0);\n};\n\nexport const getObjUid = (index: number): number[] => {\n  return [ // 将1拆分成4个部分，每部分8个字节，最大值是255，同时除255(0xff)，归一化，因为webgl绘制的时候颜色范围是0-1\n    ((index >>  0) & 0xFF) / 0xFF,\n    ((index >>  8) & 0xFF) / 0xFF,\n    ((index >> 16) & 0xFF) / 0xFF,\n    ((index >> 24) & 0xFF) / 0xFF,\n  ];\n};\n\nexport const isObjUidMatch = (index: number, uid: number[] | Uint8Array | Uint16Array | Uint32Array) => {\n  const id = uid[0] + (uid[1] << 8) + (uid[2] << 16) + (uid[3] << 24);\n  return id === index;\n};\n\nexport const createProjectionMat = (left: number, right: number, top: number, bottom: number): number[] => {\n  // 坐标变换矩阵\n  // 由于webgl是列为主的顺序，也就是说数组头4个是第一列，接着4个是第二列，如此类推\n  return [\n    2 / (right - left), 0, 0, 0,\n    0, -2 / (bottom - top), 0, 0,\n    0, 0, 2, 0,\n    -(right + left) / (right - left), (top + bottom) / (bottom - top), -1, 1\n  ]\n};\n\nexport const createRotateMat = (rotate: number): number[] => { // 旋转矩阵\n  rotate = rotate * Math.PI / 180;\n  const cos = Math.cos(rotate);\n  const sin = Math.sin(rotate);\n  return [\n    cos, sin, 0, 0,\n    -sin, cos, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ]\n};\n\nexport const createTranslateMat = (x: number, y: number): number[] => { // 平移矩阵\n  return [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    x, y, 0, 1\n  ]\n};\n\n// export const creaateCircleVertext = (center: { x: number, y: number }, radius: number, count: number) => {\n//   const list = [];\n//   for (let i = 0; i <= )\n// }\n\nexport const DrawCube = (\n  gl: WebGLRenderingContext,\n  program: WebGLProgram,\n  frameBuffer: WebGLFramebuffer | null,\n  attributes?: { mat: number[], name: string, drawType: number }[],\n  uniforms?: { mat: number[], name: string }[],\n  width?: number,\n  height?: number,\n  keep?: boolean,\n) => {\n  const w = width || gl.canvas.width;\n  const h = height || gl.canvas.height;\n  gl.viewport(0, 0, w, h);\n  gl.useProgram(program),\n  // 通过bindFramebuffer声明接下来绘制将发生在buffer上\n  // bindFramebuffer绑定null，则绘制在canvas上\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n  uniforms?.forEach(uniform => {\n    setUniformMat(gl, program, uniform.mat, uniform.name);\n  });\n  attributes?.forEach(attribute => {\n    setAttribute(gl, program, attribute.mat, attribute.name, attribute.drawType);\n  });\n  if (!keep) {\n    gl.clearColor(0, 0, 0, 0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n  }\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  if (frameBuffer) gl.bindFramebuffer(gl.FRAMEBUFFER, null); // 将当前绘制空间重新指定为canvas\n}\n\nexport const DrawCircle = (\n  gl: WebGLRenderingContext,\n  frameBuffer: WebGLBuffer | null,\n  x: number, y: number, radius: number,\n  r: number, g: number, b: number, a: number,\n  count = 20,\n  fill = false,\n  projMat?: number[] | null,\n  width?: number,\n  height?: number,\n) : void => {\n  circleProgram = circleProgram || createProgram(gl, circleVertextSource, colorFragmentSource);\n  if (!circleProgram) return;\n  if (a !== 1) {\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  }\n  gl.useProgram(circleProgram);\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n  const w = width || gl.canvas.width;\n  const h = height || gl.canvas.height;\n  gl.viewport(0, 0, w, h);\n  setUniformMat(gl, circleProgram, projMat || createProjectionMat(0, gl.canvas.width, 0, gl.canvas.height), 'u_projection');\n  setUniformMat(gl, circleProgram, createTranslateMat(x, y), 'u_translate');\n  setUniformVec4(gl, circleProgram, 'u_color', [r, g, b, a]);\n  const radiusLoc = gl.getUniformLocation(circleProgram, 'u_radius');\n  gl.uniform1f(radiusLoc, radius);\n  const radianUnit = 2 * Math.PI / count;\n  const radianData: number[] = [];\n  const flagData: number[] = [];\n  for (let i = 0; i < count; i += 1) {\n    radianData.push(i * radianUnit);\n    flagData.push(1);\n  }\n  let drawShape = gl.LINE_LOOP;\n  let drawCount = count;\n  if (fill) {\n    radianData.unshift(0);\n    flagData.push(0);\n    drawShape = gl.TRIANGLE_FAN;\n    drawCount = radianData.length - 1;\n  }\n  setAttribute(gl, circleProgram, radianData, 'a_radian', gl.STATIC_DRAW, 1);\n  setAttribute(gl, circleProgram, flagData, 'a_flag', gl.STATIC_DRAW, 1);\n  gl.drawArrays(drawShape, 0, drawCount);\n  if (frameBuffer) gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  if (a !== 1) {\n    gl.disable(gl.BLEND);\n  }\n};\n\nexport const clear = (gl: WebGLRenderingContext, frameBuffer: WebGLFramebuffer | null, r: number, g: number, b: number, a: number): void => {\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n  gl.clearColor(r, g, b, a);\n  gl.clear(gl.COLOR_BUFFER_BIT);\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n}","import TouchListener from './touch';\n// import './splash.css';\nimport {\n  vertextSource, fragmentSource,\n  pickVertextSource, pickFragmentSource,\n  splashVertextSource, splashFragmentSource,\n  previewVertextSource, previewFragmentSource\n} from './shader';\nimport * as WEBGL from './webgl';\nimport XEvent from './event';\n\nconst splashEvent = ['splash-switch'] as const;\nclass SplashEvent extends XEvent<typeof splashEvent> {}\n\nexport interface SplashOptions {\n  elm?: Element,\n}\n\nexport interface Splash {\n  reset: (src: HTMLImageElement) => void,\n  destroy: () => void,\n  SPLASH_MODE: typeof SPLASH_MODE,\n  switch: (m: SPLASH_MODE) => void,\n  output: () => string | undefined,\n  event: {\n    on: SplashEvent['on'],\n    off: SplashEvent['off']\n  }\n}\n\nexport enum SPLASH_MODE {\n  MOVE,\n  COLOR,\n  GRAY\n}\n\nconst initWebgl = (canvas: HTMLCanvasElement): Splash | undefined => {\n  const gl = canvas.getContext('webgl');\n  if (!gl) return;\n  // gl.enable(gl.DEPTH_TEST);\n  // gl.depthFunc(gl.LEQUAL);\n  const event = new SplashEvent(splashEvent);\n  // 绘制变量\n  const size = {\n    width: 0,\n    height: 0\n  };\n  const translate = {\n    x: 0,\n    y: 0\n  };\n  let rotate = 0;\n  const splashSize = 5;\n  let mode = SPLASH_MODE.MOVE;\n  const saveInfo: {\n    canvas: HTMLCanvasElement | null,\n    gl: WebGLRenderingContext | null,\n    drawProgram: WebGLProgram | null,\n    texTure: WebGLTexture | null,\n  } = {\n    canvas: null,\n    gl: null,\n    drawProgram: null,\n    texTure: null,\n  };\n  const sourceInfo = { width: 0, height: 0, patchW: 0, patchH: 0, src: null as (HTMLImageElement | null) };\n  // 创建webgl program\n  const program = WEBGL.createProgram(gl, vertextSource, fragmentSource);\n  const pickProgram = WEBGL.createProgram(gl, pickVertextSource, pickFragmentSource); // 判断点击时是否击中图片\n  const patchProgram = WEBGL.createProgram(gl, splashVertextSource, splashFragmentSource); // 灰度或彩色化像素\n  const previewProgram = WEBGL.createProgram(gl, previewVertextSource, previewFragmentSource);\n  const frameBuffer = WEBGL.createFrameBuffer(gl);\n  let patchBuffer: WebGLFramebuffer | null;\n  let patchTexture: WebGLTexture | null;\n  const touchListener = new TouchListener(canvas);\n  const picTexture = WEBGL.createTexture(gl);\n  if (!program || !pickProgram || !frameBuffer || !patchProgram || !picTexture || !previewProgram) return;\n  // 设置不变的矩阵\n  // 纹理坐标，原点在图片左下角\n  // 由于采用TRIANGLE_STRIP绘图，坐标需要是Z字形排列\n  const aTexCoord = [\n    0.0, 0.0, // 左下\n    1.0, 0.0, // 右下\n    0.0, 1.0, // 左上\n    1.0, 1.0, // 右上\n  ];\n  const projectionMat = WEBGL.createProjectionMat(0, gl.canvas.width, 0, gl.canvas.height);\n  // 不变的变量\n  gl.useProgram(program);\n  WEBGL.setUniformMat(gl, program, projectionMat, 'u_projection');\n  // 不变的变量\n  gl.useProgram(pickProgram);\n  WEBGL.setUniformMat(gl, pickProgram, projectionMat, 'u_projection');\n  const uid = WEBGL.getObjUid(1);\n  WEBGL.setUniformVec4(gl, pickProgram, 'u_id', uid);\n  // 不变的变量\n  gl.useProgram(previewProgram);\n  WEBGL.setUniformMat(gl, previewProgram, projectionMat, 'u_projection');\n  const scaleUnitW = gl.canvas.width / 5;\n  const scaleUnitH = gl.canvas.height / 5;\n  const previewRect = {\n    left: Math.round(scaleUnitW * 3.2),\n    right: Math.round(scaleUnitW * 4.7),\n    top: Math.round(scaleUnitH * 3.5),\n    bottom: Math.round(scaleUnitH * 4.8),\n    width: 0,\n    height: 0\n  };\n  previewRect.width = previewRect.right - previewRect.left;\n  previewRect.height = previewRect.bottom - previewRect.top;\n  const previewAPosData = [\n    previewRect.left, previewRect.bottom,\n    previewRect.right, previewRect.bottom,\n    previewRect.left, previewRect.top,\n    previewRect.right, previewRect.top,\n  ];\n\n  const updateDraw = () => {\n    // 绘制时，让图片中心与canvas左上角重叠\n    const left =  -size.width / 2;\n    const right = size.width / 2;\n    const top = -size.height / 2;\n    const bottom = size.height / 2;\n    const aPosData = [\n      left, top,\n      right, top,\n      left, bottom,\n      right, bottom,\n    ];\n    const roateMat = WEBGL.createRotateMat(rotate);\n    const translateMat = WEBGL.createTranslateMat(translate.x, translate.y);\n    // 绘制两次，一次在framebuffer上，一次在canvas上，保持两者变换一致\n    WEBGL.DrawCube(\n      gl, pickProgram, frameBuffer,\n      [{ mat: aPosData, name: 'a_position', drawType: gl.DYNAMIC_DRAW }],\n      [{ mat: translateMat, name: 'u_translate' }, { mat: roateMat, name: 'u_rotate' }],\n    );\n    WEBGL.DrawCube(\n      gl, program, null,\n      [{ mat: aPosData, name: 'a_position', drawType: gl.DYNAMIC_DRAW }, { mat: aTexCoord, name: 'a_texCoord', drawType: gl.STATIC_DRAW }],\n      [{ mat: translateMat, name: 'u_translate' }, { mat: roateMat, name: 'u_rotate' }],\n    );\n  };\n\n  const resetImage = (source: HTMLImageElement) => {\n    const ratioW = gl.canvas.width / source.width;\n    const ratioH = gl.canvas.height / source.height;\n    const ratio = Math.min(ratioW, ratioH);\n    size.width = source.width * ratio;\n    size.height = source.height * ratio;\n    sourceInfo.width = source.width;\n    sourceInfo.height = source.height;\n    sourceInfo.patchW = size.width;\n    sourceInfo.patchH = size.height;\n    sourceInfo.src = source;\n    translate.x = gl.canvas.width / 2;\n    translate.y = gl.canvas.height / 2;\n    rotate = 0;\n    patchTexture = WEBGL.createTexture(gl, null, size.width, size.height);\n    patchBuffer = WEBGL.createFrameBuffer(gl, patchTexture);\n    WEBGL.setTexture(gl, program, picTexture, 'u_image', 0, source);\n    WEBGL.setTexture(gl, program, patchTexture, 'u_image_patch', 1);\n    WEBGL.clear(gl, patchBuffer, 1, 1, 1, 1);\n    switchMode(SPLASH_MODE.COLOR);\n    // updateDraw();\n  };\n\n  const move = (diffX: number, diffY: number, x: number, y: number, preX: number, preY: number) => {\n    if (mode === SPLASH_MODE.MOVE) {\n      translate.x += diffX;\n      translate.y += diffY;\n      updateDraw();\n    } else {\n      patchDraw({x, y}, { x: preX, y: preY });\n      updateDraw();\n      WEBGL.DrawCircle(gl, null, x, y, splashSize, 1, 1, 1, 0.2, 20, true);\n      // WEBGL.DrawCircle(gl, null, offsetX, offsetY, 10, 1, 0, 1, 1);\n      previewDraw({ x, y });\n    }\n  };\n\n  const patchDraw = (p1: {x: number, y: number}, p2: {x: number, y: number}) => {\n    // 由于patchdraw的结果会作为纹理，再下次绘制图片的过程中叠加进去，而纹理和webgl的y轴是相反的，所以投影矩阵，y也得反过来\n    const projMat = WEBGL.createProjectionMat(0, size.width, size.height, 0);\n    // 由于此时的point是在已经做过旋转平移后的图片基础上获取到的point，需要还原之前的操作\n    // 还原1，先平移回原点\n    const translateMat1 = WEBGL.createTranslateMat(-translate.x, -translate.y);\n    // 还原2，旋转回原角度\n    const roateMat = WEBGL.createRotateMat(-rotate);\n    // 还原后，移动图片，让其左上角与canvas重叠\n    const translateMat2 = WEBGL.createTranslateMat(size.width / 2, size.height / 2);\n    // 计算两点间向量\n    let p1p2 = { x: p2.x - p1.x, y: p2.y - p1.y };\n    const len = Math.sqrt(Math.pow(p1p2.x, 2) + Math.pow(p1p2.y, 2));\n    p1p2 = { x: p1p2.x / len, y: p1p2.y / len }; // 归一\n    const v1 = { x: p1p2.y * splashSize, y: -p1p2.x * splashSize }; // 与v垂直的一侧向量，长度splashSize\n    const v2 = { x: -p1p2.y * splashSize, y: p1p2.x * splashSize }; // 与v垂直的另一侧向量，长度splashSize\n\n    // 向量p1p2，p1作为起点，需要往反方向扩展splashSize的长度\n    const p1v1 = { x: v1.x + p1.x - p1p2.x * splashSize, y: v1.y + p1.y - p1p2.y * splashSize };\n    const p1v2 = { x: v2.x + p1.x - p1p2.x * splashSize, y: v2.y + p1.y - p1p2.y * splashSize };\n    // 向量p1p2，p2作为终点，需要往正方向扩展splashSize的长度\n    const p2v1 = { x: v1.x + p2.x + p1p2.x * splashSize, y: v1.y + p2.y + p1p2.y * splashSize };\n    const p2v2 = { x: v2.x + p2.x + p1p2.x * splashSize, y: v2.y + p2.y + p1p2.y * splashSize };\n\n    const aPosData = [\n      p1v1.x, p1v1.y,\n      p1v2.x, p1v2.y,\n      p2v1.x, p2v1.y,\n      p2v2.x, p2v2.y,\n    ];\n\n    WEBGL.DrawCube(\n      gl, patchProgram, patchBuffer,\n      [{ mat: aPosData, name: 'a_position', drawType: gl.DYNAMIC_DRAW }],\n      [\n        { mat: projMat, name: 'u_projection' },\n        { mat: roateMat, name: 'u_rotate' },\n        { mat: translateMat1, name: 'u_translate1' },\n        { mat: translateMat2, name: 'u_translate2' }\n      ],\n      size.width, size.height,\n      true\n    );\n  }\n\n  const previewDraw = (center?: { x: number, y: number }) => {\n    const readRatio = 1.3;\n    const readW = Math.ceil(previewRect.width / readRatio); // 放大1.2倍，所以读取时读小一点\n    const readH = Math.ceil(previewRect.height / readRatio); // 放大1.2倍，所以读取时读小一点\n    const data = new Uint8ClampedArray(readW * readH * 4);\n    const centerX = center ? center.x : translate.x;\n    const centerY = center ? center.y : translate.y;\n    const left = centerX - readW / 2;\n    const bottom = centerY + readH / 2;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.readPixels(left, gl.canvas.height - bottom, readW, readH, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    const previewTeture = gl.createTexture();\n    WEBGL.setTexture(gl, previewProgram, previewTeture, 'u_image', 3);\n    WEBGL.configTeture(gl, previewTeture, data, readW, readH);\n    WEBGL.DrawCube(gl, previewProgram, null, [\n      { mat: previewAPosData, name: 'a_position', drawType: gl.STATIC_DRAW },\n      { mat: aTexCoord, name: 'a_texCoord', drawType: gl.STATIC_DRAW },\n    ], [], gl.canvas.width, gl.canvas.height, true);\n  };\n\n  const output = (): string | undefined => {\n    if (!sourceInfo.src) return;\n    if (!saveInfo.canvas) {\n      saveInfo.canvas = document.createElement('canvas');\n      saveInfo.gl = saveInfo.canvas.getContext('webgl');\n      if (!saveInfo.gl) return;\n      saveInfo.drawProgram = WEBGL.createProgram(saveInfo.gl, vertextSource, fragmentSource);\n      if (!saveInfo.drawProgram) return;\n      saveInfo.texTure = WEBGL.createTexture(saveInfo.gl);\n      WEBGL.setTexture(saveInfo.gl, saveInfo.drawProgram, saveInfo.texTure, 'u_image', 0, sourceInfo.src);\n    }\n    if (!saveInfo.gl || !saveInfo.drawProgram) return;\n    saveInfo.canvas.width = sourceInfo.width;\n    saveInfo.canvas.height = sourceInfo.height;\n\n    const projMat = WEBGL.createProjectionMat(0, sourceInfo.width, 0, sourceInfo.height);\n    saveInfo.gl.useProgram(saveInfo.drawProgram);\n    WEBGL.setUniformMat(saveInfo.gl, saveInfo.drawProgram, projMat, 'u_projection');\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, patchBuffer);\n    const data = new Uint8ClampedArray(sourceInfo.patchW * sourceInfo.patchH * 4);\n    gl.readPixels(0, 0, sourceInfo.patchW, sourceInfo.patchH, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n    const pTexture = saveInfo.gl.createTexture();\n    WEBGL.setTexture(saveInfo.gl, saveInfo.drawProgram, pTexture, 'u_image_patch', 1);\n    WEBGL.configTeture(saveInfo.gl, pTexture, data, sourceInfo.patchW, sourceInfo.patchH);\n    \n    const left =  0;\n    const right = sourceInfo.width;\n    const top = 0;\n    const bottom = sourceInfo.height;\n    const aPosData = [\n      left, top,\n      right, top,\n      left, bottom,\n      right, bottom,\n    ];\n    const roateMat = WEBGL.createRotateMat(0);\n    const translateMat = WEBGL.createTranslateMat(0, 0);\n    WEBGL.DrawCube(\n      saveInfo.gl, saveInfo.drawProgram, null,\n      [{ mat: aPosData, name: 'a_position', drawType: saveInfo.gl.STATIC_DRAW }, { mat: aTexCoord, name: 'a_texCoord', drawType: saveInfo.gl.STATIC_DRAW }],\n      [{ mat: translateMat, name: 'u_translate' }, { mat: roateMat, name: 'u_rotate' }],\n    );\n\n    const ret = saveInfo.canvas.toDataURL();\n    return ret;\n    // const a = document.createElement('a');\n    // a.href = ret;\n    // a.download = `IMG${Date.now()}.png`;\n    // const ev = new MouseEvent('click', {\n    //   bubbles: true,\n    //   cancelable: true,\n    //   view: window\n    // })\n    // a.dispatchEvent(ev);\n  };\n\n  touchListener.checkValid = ({ offsetX, offsetY }) => {\n    updateDraw();\n    gl.useProgram(pickProgram)\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    const pixel = new Uint8Array(4);\n    gl.readPixels(offsetX, gl.canvas.height - offsetY, 1 , 1, gl.RGBA, gl.UNSIGNED_BYTE, pixel);\n    return WEBGL.isObjUidMatch(1, pixel);\n  };\n\n  touchListener.on('touchMove', ({ diffX, diffY, x, y, preX, preY }) => {\n    move(diffX, diffY, x, y, preX, preY);\n  });\n\n  touchListener.on('touchEnd', ({ x, y }) => {\n    if (mode !== SPLASH_MODE.MOVE) {\n      updateDraw();\n      previewDraw({ x, y });\n    }\n  });\n\n  const destroy = () => {\n    touchListener.clear();\n  };\n\n  const switchMode = (m: SPLASH_MODE) => {\n    mode = m;\n    event.emit('splash-switch', mode);\n    if (m !== SPLASH_MODE.MOVE) {\n      if (m === SPLASH_MODE.COLOR) {\n        gl.useProgram(patchProgram);\n        const uMode = gl.getUniformLocation(patchProgram, 'u_mode');\n        gl.uniform1i(uMode, 0); // 0相应位置是彩色\n      } else if (m === SPLASH_MODE.GRAY) {\n        gl.useProgram(patchProgram);\n        const uMode = gl.getUniformLocation(patchProgram, 'u_mode');\n        gl.uniform1i(uMode, 1); // 1相应位置是灰色\n      }\n      updateDraw();\n    }\n  };\n\n  return {\n    reset: resetImage,\n    destroy,\n    switch: switchMode,\n    SPLASH_MODE,\n    event: { on: event.on, off: event.off },\n    output\n  };\n}\n\nexport default function init (opt: SplashOptions): Splash | undefined {\n  const container = opt.elm || window.document.body;\n  const canvas = window.document.createElement('canvas');\n  // canvas.style.background = 'red';\n  canvas.width = container.clientWidth;\n  canvas.height = container.clientHeight;\n  container.append(canvas);\n\n  return initWebgl(canvas);\n}","\nimport { defineComponent, onMounted, ref, reactive, nextTick } from 'vue';\nimport splashInit, { Splash, SPLASH_MODE } from './utils/splash';\n\nexport default defineComponent({\n  name: 'App',\n  setup() {\n    const splash = ref<Splash>();\n    const mode = ref<SPLASH_MODE>();\n    const showRet = ref(false);\n    const saveData = ref('');\n    const containerStyle = reactive({\n      height: ''\n    });\n\n    const selectImage = (e: Event) => {\n      if (!splash) {\n        (e.target as HTMLInputElement).value = '';\n        return;\n      }\n      const files = (e.target as HTMLInputElement).files;\n      if (files && files.length > 0) {\n        const file = files[0];\n        const reader = new FileReader();\n        reader.onload = (ev) => {\n          if (ev.target && ev.target.result) {\n            const img = new Image();\n            img.onload = () => {\n              splash.value?.reset(img);\n            }\n            img.src = ev.target.result as string;\n          }\n          (e.target as HTMLInputElement).value = '';\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n\n    const switchMode = (mode: SPLASH_MODE) => {\n      splash.value?.switch(mode);\n    };\n\n    const onSave = () => {\n      const ret = splash.value?.output();\n      if (ret) {\n        saveData.value = ret;\n        showRet.value = true;\n      }\n    };\n\n    onMounted(() => {\n      containerStyle.height = `${window.innerHeight}px`;\n      nextTick(() => {\n        const divContainer = window.document.querySelector('#color-splash');\n        if (divContainer) {\n          splash.value = splashInit({ elm: divContainer });\n          splash.value?.event.on('splash-switch', (m) => {\n            mode.value = m;\n          })\n        }\n      });\n    });\n\n    return {\n      showRet,\n      saveData,\n      containerStyle,\n      selectImage,\n      splash,\n      switchMode,\n      SPLASH_MODE,\n      mode,\n      onSave\n    }\n  }\n});\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7332f1ba&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7332f1ba&prod&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=7332f1ba&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7332f1ba\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcolor_splash\"] = self[\"webpackChunkcolor_splash\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1545); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["TOUCH_TYPE","render","_vm","this","_c","_self","_setupProxy","attrs","style","containerStyle","staticClass","_v","on","selectImage","class","actived","mode","SPLASH_MODE","COLOR","$event","switchMode","GRAY","MOVE","onSave","showRet","saveData","_e","staticRenderFns","XEvent","constructor","nameList","eventList","forEach","name","uidMap","eventMap","cb","events","cuid","undefined","off","uid","emit","arg","Object","keys","key","fn","clear","TouchListener","elm","super","SINGLE_TOUCH","e","preventDefault","curTouch","window","clearTimeout","touchTimer","setTimeout","touches","length","touch0","touch1","ret","checkValid","offsetX","clientX","offsetLeft","offsetY","clientY","offsetTop","touchType","x","y","DOUBLE_TOUCH","diffX","diffY","preX","preY","removeEventListener","onTouchStart","onTouchMove","onTouchEnd","rect","getBoundingClientRect","top","left","addEventListener","vertextSource","fragmentSource","splashVertextSource","splashFragmentSource","pickVertextSource","pickFragmentSource","previewVertextSource","previewFragmentSource","circleVertextSource","colorFragmentSource","webgl","document","createElement","getContext","WebGLRenderingContext","circleProgram","createProgram","gl","vSource","fSource","vertextShader","createShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","shaderSource","compileShader","program","attachShader","linkProgram","createFrameBuffer","arg1","arg2","frameBuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","w","canvas","width","h","height","curTexture","getParameter","TEXTURE_BINDING_2D","texture","createTexture","texImage2D","RGBA","UNSIGNED_BYTE","bindTexture","source","configTeture","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","setTexture","uniform","index","useProgram","uImage","getUniformLocation","uniform1i","activeTexture","setAttribute","data","attribute","drawType","size","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","aLocation","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","setUniformMat","uniformLocation","uniformMatrix4fv","setUniformVec4","uniform4f","getObjUid","isObjUidMatch","id","createProjectionMat","right","bottom","createRotateMat","rotate","Math","PI","cos","sin","createTranslateMat","DrawCube","attributes","uniforms","keep","viewport","mat","clearColor","COLOR_BUFFER_BIT","drawArrays","TRIANGLE_STRIP","DrawCircle","radius","r","g","b","a","count","fill","projMat","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","radiusLoc","uniform1f","radianUnit","radianData","flagData","i","push","drawShape","LINE_LOOP","drawCount","unshift","TRIANGLE_FAN","STATIC_DRAW","disable","splashEvent","SplashEvent","initWebgl","event","translate","splashSize","saveInfo","drawProgram","texTure","sourceInfo","patchW","patchH","src","WEBGL","pickProgram","patchProgram","previewProgram","patchBuffer","patchTexture","touchListener","picTexture","aTexCoord","projectionMat","scaleUnitW","scaleUnitH","previewRect","round","previewAPosData","updateDraw","aPosData","roateMat","translateMat","DYNAMIC_DRAW","resetImage","ratioW","ratioH","ratio","min","move","patchDraw","previewDraw","p1","p2","translateMat1","translateMat2","p1p2","len","sqrt","pow","v1","v2","p1v1","p1v2","p2v1","p2v2","center","readRatio","readW","ceil","readH","Uint8ClampedArray","centerX","centerY","readPixels","previewTeture","output","pTexture","toDataURL","pixel","Uint8Array","destroy","m","uMode","reset","switch","init","opt","container","body","clientWidth","clientHeight","append","defineComponent","setup","splash","ref","reactive","target","value","files","file","reader","FileReader","onload","ev","result","img","Image","readAsDataURL","onMounted","innerHeight","nextTick","divContainer","querySelector","splashInit","component","Vue","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}