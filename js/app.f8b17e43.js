(function(){"use strict";var t={4599:function(t,e,n){var o,i=n(6369),a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("div",{style:t.containerStyle,attrs:{id:"color-splash"}}),e("div",{staticClass:"btn-list"},[e("div",{staticClass:"btn"},[t._v(" 选择图片 "),e("input",{attrs:{id:"select-photo",type:"file",accept:"image/*"},on:{change:t.selectImage}})]),e("div",{staticClass:"btn",class:{actived:t.mode===t.SPLASH_MODE.COLOR},on:{click:function(e){return t.switchMode(t.SPLASH_MODE.COLOR)}}},[t._v(" 涂色 ")]),e("div",{staticClass:"btn",class:{actived:t.mode===t.SPLASH_MODE.GRAY},on:{click:function(e){return t.switchMode(t.SPLASH_MODE.GRAY)}}},[t._v(" 涂灰 ")]),e("div",{staticClass:"btn",class:{actived:t.mode===t.SPLASH_MODE.MOVE},on:{click:function(e){return t.switchMode(t.SPLASH_MODE.MOVE)}}},[t._v(" 移动/缩放 ")]),e("div",{staticClass:"btn",on:{click:t.onSave}},[t._v(" 保存 ")])]),t.showRet?e("div",{staticClass:"save"},[e("img",{attrs:{src:t.saveData,alt:"img"}}),e("div",{staticClass:"tips"},[t._v(" 请长按图片保存 ")]),e("div",{staticClass:"close",on:{click:function(e){t.showRet=!1}}},[e("svg",{attrs:{width:"100%",height:"100%"}},[e("line",{attrs:{x1:"0",y1:"0",x2:"100%",y2:"100%",stroke:"#FFFFFF","stroke-linecap":"round"}}),e("line",{attrs:{x1:"100%",y1:"0",x2:"0",y2:"100%",stroke:"#FFFFFF","stroke-linecap":"round"}})])])]):t._e()])},r=[],s=(n(8675),n(3462),n(7380),n(1118),n(2482));class c{constructor(t){(0,s.Z)(this,"uidMap",{}),(0,s.Z)(this,"eventMap",{}),(0,s.Z)(this,"eventList",void 0),(0,s.Z)(this,"on",void 0),(0,s.Z)(this,"off",void 0),(0,s.Z)(this,"emit",void 0),(0,s.Z)(this,"clear",void 0),this.eventList=t,this.eventList.forEach((t=>{this.uidMap[t]=0,this.eventMap[t]={}})),this.on=(t,e)=>{const n=this.eventMap[t],o=this.uidMap[t];return n&&void 0!==o&&o>=0?(n[o]=e,this.uidMap[t]=o+1,o):-1},this.off=(t,e)=>{const n=this.eventMap[t];n&&n[e]&&(n[e]=void 0,delete n[e])},this.emit=(t,...e)=>{const n=this.eventMap[t];n&&Object.keys(n).forEach((t=>{const o=n[t];o&&o(...e)}))},this.clear=t=>{t&&this.eventMap[t]?(this.eventMap[t]={},this.uidMap[t]=0):Object.keys(this.eventMap).forEach((t=>{this.eventMap[t]={},this.uidMap[t]=0}))}}}(function(t){t[t["SINGLE_TOUCH"]=0]="SINGLE_TOUCH",t[t["DOUBLE_TOUCH"]=1]="DOUBLE_TOUCH"})(o||(o={}));const u=["touchStart","touchMove","touchEnd"];class h extends c{constructor(t){super(u),(0,s.Z)(this,"touchType",o.SINGLE_TOUCH),(0,s.Z)(this,"TOUCH_TYPE",o),(0,s.Z)(this,"curTouch",void 0),(0,s.Z)(this,"touchTimer",void 0),(0,s.Z)(this,"checkValid",void 0),(0,s.Z)(this,"rect",void 0),(0,s.Z)(this,"offsetTop",void 0),(0,s.Z)(this,"offsetLeft",void 0),(0,s.Z)(this,"elm",void 0),(0,s.Z)(this,"onTouchStart",(t=>{t.preventDefault(),this.curTouch=void 0,window.clearTimeout(this.touchTimer),this.touchTimer=window.setTimeout((()=>{const{touches:e}=t;if(!e.length||e.length>2)return;const n=e[0],i=e[1],a=!this.checkValid||this.checkValid({offsetX:n.clientX-this.offsetLeft,offsetY:n.clientY-this.offsetTop});a&&(1===e.length?(this.touchType=o.SINGLE_TOUCH,this.curTouch=[{x:n.clientX,y:n.clientY}]):2===e.length&&(this.touchType=o.DOUBLE_TOUCH,this.curTouch=[{x:n.clientX,y:n.clientY},{x:i.clientX,y:i.clientY}]))}),100)})),(0,s.Z)(this,"onTouchMove",(t=>{if(t.preventDefault(),this.curTouch){const{touches:e}=t,n=e[0],i=e[1];this.touchType===o.SINGLE_TOUCH&&n?(this.emit("touchMove",{touches:[{x:n.clientX-this.offsetLeft,y:n.clientY-this.offsetTop}],preTouches:[{x:this.curTouch[0].x-this.offsetLeft,y:this.curTouch[0].y-this.offsetTop}]}),this.curTouch[0].x=n.clientX,this.curTouch[0].y=n.clientY):this.touchType===o.DOUBLE_TOUCH&&n&&i&&(this.emit("touchMove",{touches:[{x:n.clientX-this.offsetLeft,y:n.clientY-this.offsetTop},{x:i.clientX-this.offsetLeft,y:i.clientY-this.offsetTop}],preTouches:[{x:this.curTouch[0].x-this.offsetLeft,y:this.curTouch[0].y-this.offsetTop},{x:this.curTouch[1].x-this.offsetLeft,y:this.curTouch[1].y-this.offsetTop}]}),this.curTouch[0].x=n.clientX,this.curTouch[0].y=n.clientY,this.curTouch[1].x=i.clientX,this.curTouch[1].y=i.clientY)}})),(0,s.Z)(this,"onTouchEnd",(t=>{t.preventDefault(),this.curTouch&&this.emit("touchEnd",{x:this.curTouch[0].x-this.offsetLeft,y:this.curTouch[0].y-this.offsetTop})})),(0,s.Z)(this,"clear",(()=>{this.elm.removeEventListener("touchstart",this.onTouchStart),this.elm.removeEventListener("touchmove",this.onTouchMove),this.elm.removeEventListener("touchend",this.onTouchEnd),this.clear()})),this.elm=t,this.rect=t.getBoundingClientRect(),this.offsetTop=this.rect.top,this.offsetLeft=this.rect.left,this.elm.addEventListener("touchstart",this.onTouchStart),this.elm.addEventListener("touchmove",this.onTouchMove),this.elm.addEventListener("touchend",this.onTouchEnd)}}const l="\n  attribute vec2 a_position;\n  attribute vec2 a_texCoord;\n  varying vec2 v_texCoord;\n  uniform mat4 u_projection;\n  uniform mat4 u_rotate;\n  uniform mat4 u_translate;\n  uniform mat4 u_scale;\n  void main(void) {\n    gl_Position = u_projection * u_translate * u_rotate * u_scale * vec4(a_position, 0, 1.0);\n    v_texCoord = a_texCoord;\n  }\n",f="\n  precision mediump float;\n  varying vec2 v_texCoord;\n  uniform sampler2D u_image;\n  uniform sampler2D u_image_patch;\n\n  void main() {\n    vec4 texture = texture2D(u_image, v_texCoord);\n    vec4 patch = texture2D(u_image_patch, v_texCoord);\n    bool flag = true;\n    if (patch.r > 0.0) {\n      float gray = 0.299 * texture.r + 0.587 * texture.g + 0.114 * texture.b;\n      gl_FragColor = vec4(gray, gray, gray, texture.a);\n    } else {\n      gl_FragColor = texture;\n    }\n  }\n",d="\n  attribute vec2 a_position;\n  uniform mat4 u_projection;\n  uniform mat4 u_rotate;\n  uniform mat4 u_scale;\n  uniform mat4 u_translate1;\n  uniform mat4 u_translate2;\n  void main(void) {\n    gl_Position = u_projection * u_translate2 * u_scale * u_rotate * u_translate1 * vec4(a_position, 0, 1.0);\n  }\n",m="\n  precision mediump float;\n  uniform int u_mode;\n\n  void main() {\n    if (u_mode == 1) {\n      gl_FragColor = vec4(1, 1, 1, 1);\n    }else {\n      gl_FragColor = vec4(0, 0, 0, 0);\n    }\n  }\n",_="\n  attribute vec2 a_position;\n  uniform mat4 u_projection;\n  uniform mat4 u_rotate;\n  uniform mat4 u_translate;\n  uniform mat4 u_scale;\n  void main(void) {\n    gl_Position = u_projection * u_translate * u_rotate * u_scale * vec4(a_position, 0, 1.0);\n  }\n",v="\n  precision mediump float;\n  uniform vec4 u_id;\n\n  void main() {\n    gl_FragColor = u_id;\n  }\n",T="\n  attribute vec2 a_position;\n  uniform mat4 u_projection;\n  attribute vec2 a_texCoord;\n  varying vec2 v_texCoord;\n\n  void main(void) {\n    gl_Position = u_projection * vec4(a_position, 0, 1.0);\n    v_texCoord = a_texCoord;\n  }\n",p="\n  precision mediump float;\n  varying vec2 v_texCoord;\n  uniform sampler2D u_image;\n\n  void main() {\n    vec4 texture = texture2D(u_image, v_texCoord);\n    gl_FragColor = texture;\n  }\n",g="\n  attribute float a_radian;\n  attribute float a_flag;\n  uniform mat4 u_projection;\n  uniform float u_radius;\n  uniform mat4 u_translate;\n\n  void main(void) {\n    gl_Position = u_projection * u_translate * vec4(a_flag * u_radius * cos(a_radian), a_flag * u_radius * sin(a_radian), 0, 1.0);\n  }\n",E="\n  precision mediump float;\n  uniform vec4 u_color;\n\n  void main() {\n    gl_FragColor = u_color;\n  }\n",x=window.document.createElement("canvas").getContext("webgl");!!x&&WebGLRenderingContext;let y;const R=(t,e,n)=>{const o=t.createShader(t.VERTEX_SHADER),i=t.createShader(t.FRAGMENT_SHADER);if(!o||!i)return null;t.shaderSource(o,e),t.shaderSource(i,n),t.compileShader(o),t.compileShader(i);const a=t.createProgram();return a?(t.attachShader(a,o),t.attachShader(a,i),t.linkProgram(a),a):null};function w(t,e,n){const o=t.createFramebuffer();if(t.bindFramebuffer(t.FRAMEBUFFER,o),void 0!==e&&"number"!==typeof e&&void 0===n)t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0);else if("number"===typeof e||void 0===e){const o=e||t.canvas.width,i=n||t.canvas.height,a=t.getParameter(t.TEXTURE_BINDING_2D),r=A(t);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,o,i,0,t.RGBA,t.UNSIGNED_BYTE,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindTexture(t.TEXTURE_2D,a)}return t.bindFramebuffer(t.FRAMEBUFFER,null),o}function A(t,e,n,o){const i=t.createTexture();return i?(F(t,i,e,n,o),i):null}function F(t,e,n,o,i){t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),o&&i?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,o,i,0,t.RGBA,t.UNSIGNED_BYTE,n):n&&t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)}function M(t,e,n,o,i,a,r,s){t.useProgram(e);const c=t.getUniformLocation(e,o);t.uniform1i(c,i),t.activeTexture(t[`TEXTURE${i}`]),t.bindTexture(t.TEXTURE_2D,n),r&&s?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,s,0,t.RGBA,t.UNSIGNED_BYTE,a):a&&t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,a)}const C=(t,e,n,o,i,a=2)=>{const r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),i);const s=t.getAttribLocation(e,o);t.enableVertexAttribArray(s),t.vertexAttribPointer(s,a,t.FLOAT,!1,0,0)},b=(t,e,n,o)=>{const i=t.getUniformLocation(e,o);t.uniformMatrix4fv(i,!1,n)},U=(t,e,n,o)=>{const i=t.getUniformLocation(e,n);t.uniform4f(i,o[0]||0,o[1]||0,o[2]||0,o[3]||0)},D=t=>[(t>>0&255)/255,(t>>8&255)/255,(t>>16&255)/255,(t>>24&255)/255],O=(t,e)=>{const n=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24);return n===t},L=(t,e,n,o)=>[2/(e-t),0,0,0,0,-2/(o-n),0,0,0,0,2,0,-(e+t)/(e-t),(n+o)/(o-n),-1,1],S=t=>{t=t*Math.PI/180;const e=Math.cos(t),n=Math.sin(t);return[e,n,0,0,-n,e,0,0,0,0,1,0,0,0,0,1]},P=(t,e)=>[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1],B=t=>[t,0,0,0,0,t,0,0,0,0,1,0,0,0,0,1],I=(t,e,n,o,i,a,r,s)=>{const c=a||t.canvas.width,u=r||t.canvas.height;t.viewport(0,0,c,u),t.useProgram(e),t.bindFramebuffer(t.FRAMEBUFFER,n),i?.forEach((n=>{b(t,e,n.mat,n.name)})),o?.forEach((n=>{C(t,e,n.mat,n.name,n.drawType)})),s||(t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),t.drawArrays(t.TRIANGLE_STRIP,0,4),n&&t.bindFramebuffer(t.FRAMEBUFFER,null)},N=(t,e,n,o,i,a,r,s,c,u=20,h=!1,l,f,d)=>{if(y=y||R(t,g,E),!y)return;1!==c&&(t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)),t.useProgram(y),t.bindFramebuffer(t.FRAMEBUFFER,e);const m=f||t.canvas.width,_=d||t.canvas.height;t.viewport(0,0,m,_),b(t,y,l||L(0,t.canvas.width,0,t.canvas.height),"u_projection"),b(t,y,P(n,o),"u_translate"),U(t,y,"u_color",[a,r,s,c]);const v=t.getUniformLocation(y,"u_radius");t.uniform1f(v,i);const T=2*Math.PI/u,p=[],x=[];for(let g=0;g<u;g+=1)p.push(g*T),x.push(1);let w=t.LINE_LOOP,A=u;h&&(p.unshift(0),x.push(0),w=t.TRIANGLE_FAN,A=p.length-1),C(t,y,p,"a_radian",t.STATIC_DRAW,1),C(t,y,x,"a_flag",t.STATIC_DRAW,1),t.drawArrays(w,0,A),e&&t.bindFramebuffer(t.FRAMEBUFFER,null),1!==c&&t.disable(t.BLEND)},G=(t,e,n,o,i,a)=>{t.bindFramebuffer(t.FRAMEBUFFER,e),t.clearColor(n,o,i,a),t.clear(t.COLOR_BUFFER_BIT),t.bindFramebuffer(t.FRAMEBUFFER,null)},H=["splash-switch"];class Y extends c{}var X;(function(t){t[t["MOVE"]=0]="MOVE",t[t["COLOR"]=1]="COLOR",t[t["GRAY"]=2]="GRAY"})(X||(X={}));const j=t=>{const e=t.getContext("webgl");if(!e)return;const n=new Y(H),o={width:0,height:0},i={x:0,y:0};let a=0,r=1;const s=.5,c=3,u=5;let g=X.MOVE;const E={canvas:null,gl:null,drawProgram:null,texTure:null},x={width:0,height:0,patchW:0,patchH:0,src:null},y=R(e,l,f),C=R(e,_,v),j=R(e,d,m),Z=R(e,T,p),k=w(e);let W,V;const q=new h(t),$=A(e);if(!y||!C||!k||!j||!$||!Z)return;const z=[0,0,1,0,0,1,1,1],J=L(0,e.canvas.width,0,e.canvas.height);e.useProgram(y),b(e,y,J,"u_projection"),e.useProgram(C),b(e,C,J,"u_projection");const K=D(1);U(e,C,"u_id",K),e.useProgram(Z),b(e,Z,J,"u_projection");const Q=e.canvas.width/5,tt=e.canvas.height/5,et={left:Math.round(3.2*Q),right:Math.round(4.7*Q),top:Math.round(3.5*tt),bottom:Math.round(4.8*tt),width:0,height:0};et.width=et.right-et.left,et.height=et.bottom-et.top;const nt=[et.left,et.bottom,et.right,et.bottom,et.left,et.top,et.right,et.top],ot=()=>{const t=-o.width/2,n=o.width/2,s=-o.height/2,c=o.height/2,u=[t,s,n,s,t,c,n,c],h=S(a),l=P(i.x,i.y),f=B(r);I(e,C,k,[{mat:u,name:"a_position",drawType:e.DYNAMIC_DRAW}],[{mat:l,name:"u_translate"},{mat:h,name:"u_rotate"},{mat:f,name:"u_scale"}]),I(e,y,null,[{mat:u,name:"a_position",drawType:e.DYNAMIC_DRAW},{mat:z,name:"a_texCoord",drawType:e.STATIC_DRAW}],[{mat:l,name:"u_translate"},{mat:h,name:"u_rotate"},{mat:f,name:"u_scale"}])},it=t=>{const n=e.canvas.width/t.width,s=e.canvas.height/t.height,c=Math.min(n,s);o.width=t.width*c,o.height=t.height*c,x.width=t.width,x.height=t.height,x.patchW=o.width,x.patchH=o.height,x.src=t,i.x=e.canvas.width/2,i.y=e.canvas.height/2,a=0,r=1,V=A(e,null,o.width,o.height),W=w(e,V),M(e,y,$,"u_image",0,t),M(e,y,V,"u_image_patch",1),G(e,W,1,1,1,1),ut(X.COLOR)},at=(t,n)=>{const s=o.width*r,c=o.height*r,h=L(0,s,c,0),l=P(-i.x,-i.y),f=S(-a),d=S(1/r),m=P(s/2,c/2);let _={x:n.x-t.x,y:n.y-t.y};const v=Math.sqrt(Math.pow(_.x,2)+Math.pow(_.y,2));_={x:_.x/v,y:_.y/v};const T={x:_.y*u,y:-_.x*u},p={x:-_.y*u,y:_.x*u},g={x:T.x+t.x-_.x*u,y:T.y+t.y-_.y*u},E={x:p.x+t.x-_.x*u,y:p.y+t.y-_.y*u},x={x:T.x+n.x+_.x*u,y:T.y+n.y+_.y*u},y={x:p.x+n.x+_.x*u,y:p.y+n.y+_.y*u},R=[g.x,g.y,E.x,E.y,x.x,x.y,y.x,y.y];I(e,j,W,[{mat:R,name:"a_position",drawType:e.DYNAMIC_DRAW}],[{mat:h,name:"u_projection"},{mat:f,name:"u_rotate"},{mat:l,name:"u_translate1"},{mat:m,name:"u_translate2"},{mat:d,name:"u_scale"}],o.width,o.height,!0)},rt=t=>{const n=1.3,o=Math.ceil(et.width/n),a=Math.ceil(et.height/n),r=new Uint8ClampedArray(o*a*4),s=t?t.x:i.x,c=t?t.y:i.y,u=s-o/2,h=c+a/2;e.bindFramebuffer(e.FRAMEBUFFER,null),e.readPixels(u,e.canvas.height-h,o,a,e.RGBA,e.UNSIGNED_BYTE,r);const l=e.createTexture();M(e,Z,l,"u_image",3),F(e,l,r,o,a),I(e,Z,null,[{mat:nt,name:"a_position",drawType:e.STATIC_DRAW},{mat:z,name:"a_texCoord",drawType:e.STATIC_DRAW}],[],e.canvas.width,e.canvas.height,!0)},st=()=>{if(!x.src)return;if(!E.canvas){if(E.canvas=document.createElement("canvas"),E.gl=E.canvas.getContext("webgl"),!E.gl)return;if(E.drawProgram=R(E.gl,l,f),!E.drawProgram)return;E.texTure=A(E.gl),M(E.gl,E.drawProgram,E.texTure,"u_image",0,x.src)}if(!E.gl||!E.drawProgram)return;E.canvas.width=x.width,E.canvas.height=x.height,e.bindFramebuffer(e.FRAMEBUFFER,W);const t=new Uint8ClampedArray(x.patchW*x.patchH*4);e.readPixels(0,0,x.patchW,x.patchH,e.RGBA,e.UNSIGNED_BYTE,t),e.bindFramebuffer(e.FRAMEBUFFER,null);const n=E.gl.createTexture();M(E.gl,E.drawProgram,n,"u_image_patch",1),F(E.gl,n,t,x.patchW,x.patchH);const o=0,i=x.width,a=0,r=x.height,s=[o,a,i,a,o,r,i,r],c=S(0),u=P(0,0),h=B(1),d=L(0,x.width,0,x.height);I(E.gl,E.drawProgram,null,[{mat:s,name:"a_position",drawType:E.gl.STATIC_DRAW},{mat:z,name:"a_texCoord",drawType:E.gl.STATIC_DRAW}],[{mat:u,name:"u_translate"},{mat:c,name:"u_rotate"},{mat:d,name:"u_projection"},{mat:h,name:"u_scale"}]);const m=E.canvas.toDataURL();return m};q.checkValid=({offsetX:t,offsetY:n})=>{ot(),e.useProgram(C),e.bindFramebuffer(e.FRAMEBUFFER,k);const o=new Uint8Array(4);return e.readPixels(t,e.canvas.height-n,1,1,e.RGBA,e.UNSIGNED_BYTE,o),O(1,o)},q.on("touchMove",(({touches:t,preTouches:n})=>{if(g===X.MOVE){if(q.touchType===q.TOUCH_TYPE.SINGLE_TOUCH){const e=t[0].x-n[0].x,o=t[0].y-n[0].y;i.x+=e,i.y+=o}else if(q.touchType===q.TOUCH_TYPE.DOUBLE_TOUCH){const e=Math.pow(t[0].x-t[1].x,2)+Math.pow(t[0].y-t[1].y,2),o=Math.pow(n[0].x-n[1].x,2)+Math.pow(n[0].y-n[1].y,2),a=+Math.sqrt(e/o).toFixed(2);r*=a;const s={x:(t[0].x+t[1].x)/2,y:(t[0].y+t[1].y)/2},c={x:(n[0].x+n[1].x)/2,y:(n[0].y+n[1].y)/2};i.x=a*(i.x-c.x)+s.x,i.y=a*(i.y-c.y)+s.y}ot()}else if(q.touchType===q.TOUCH_TYPE.SINGLE_TOUCH){const{x:o,y:i}=t[0],{x:a,y:r}=n[0];at({x:o,y:i},{x:a,y:r}),ot(),N(e,null,o,i,u,1,1,1,.2,20,!0),rt({x:o,y:i})}})),q.on("touchEnd",(({x:t,y:e})=>{g!==X.MOVE?(ot(),rt({x:t,y:e})):r>c?(r=c,ot()):r<s&&(r=s,ot())}));const ct=()=>{q.clear()},ut=t=>{if(g=t,n.emit("splash-switch",g),t!==X.MOVE){if(t===X.COLOR){e.useProgram(j);const t=e.getUniformLocation(j,"u_mode");e.uniform1i(t,0)}else if(t===X.GRAY){e.useProgram(j);const t=e.getUniformLocation(j,"u_mode");e.uniform1i(t,1)}ot()}};return{reset:it,destroy:ct,switch:ut,SPLASH_MODE:X,event:{on:n.on,off:n.off},output:st}};function Z(t){const e=t.elm||window.document.body,n=window.document.createElement("canvas");return n.width=e.clientWidth,n.height=e.clientHeight,e.append(n),j(n)}var k=(0,i.aZ)({name:"App",setup(){const t=(0,i.iH)(),e=(0,i.iH)(),n=(0,i.iH)(!1),o=(0,i.iH)(""),a=(0,i.qj)({height:""}),r=e=>{if(!t)return void(e.target.value="");const n=e.target.files;if(n&&n.length>0){const o=n[0],i=new FileReader;i.onload=n=>{if(n.target&&n.target.result){const e=new Image;e.onload=()=>{t.value?.reset(e)},e.src=n.target.result}e.target.value=""},i.readAsDataURL(o)}},s=e=>{t.value?.switch(e)},c=()=>{const e=t.value?.output();e&&(o.value=e,n.value=!0)};return(0,i.bv)((()=>{a.height=`${window.innerHeight}px`,(0,i.Y3)((()=>{const n=window.document.querySelector("#color-splash");n&&(t.value=Z({elm:n}),t.value?.event.on("splash-switch",(t=>{e.value=t})))}))})),{showRet:n,saveData:o,containerStyle:a,selectImage:r,splash:t,switchMode:s,SPLASH_MODE:X,mode:e,onSave:c}}}),W=k,V=n(3736),q=(0,V.Z)(W,a,r,!1,null,"6d18ad56",null),$=q.exports;i.ZP.config.productionTip=!1,new i.ZP({render:t=>t($)}).$mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,a){if(!o){var r=1/0;for(h=0;h<t.length;h++){o=t[h][0],i=t[h][1],a=t[h][2];for(var s=!0,c=0;c<o.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(s=!1,a<r&&(r=a));if(s){t.splice(h--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[o,i,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,r=o[0],s=o[1],c=o[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)var h=c(n)}for(e&&e(o);u<r.length;u++)a=r[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(h)},o=self["webpackChunkcolor_splash"]=self["webpackChunkcolor_splash"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4599)}));o=n.O(o)})();
//# sourceMappingURL=app.f8b17e43.js.map